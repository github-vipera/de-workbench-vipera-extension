{"version":3,"file":"UIInput.js","sourceRoot":"","sources":["../../src/ui-components/UIInput.ts"],"names":[],"mappings":"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","sourcesContent":["'use babel'\n\n/*!\n * Dynamic Engine Workbench\n * Copyright(c) 2017 Dynamic Engine Team @ Vipera Plc\n * MIT Licensed\n */\n\n import {\n   createText,\n   createElement,\n   insertElement,\n   createGroupButtons,\n   createButton,\n   createIcon,\n   createIconFromPath,\n   attachEventFromObject,\n   createTextEditor\n } from '../element/index';\n\nimport { LoggerService } from '../Logger'\nimport { EventEmitter }  from 'events'\nconst remote = require('remote');\nconst dialog = remote.require('electron').dialog;\nconst DEFAULT_DISPLAY_OPTIONS:string = \"block\";\nconst HIDE_DISPLAY_OPTIONS:string = \"none\";\n\nexport interface UIInputOptions {\n  caption?:string;\n  placeholder?:string;\n  value?:string;\n  browseFor?:string;\n  visible?:boolean;\n}\n\nexport class UIInput {\n\n  mainElement : HTMLElement;\n  txtInput:HTMLElement;\n  lblCaption:HTMLElement;\n  options:UIInputOptions;\n  actionButton:HTMLElement;\n\n  constructor(options?:UIInputOptions){\n    this.options = options;\n    this.initUI();\n  }\n\n  protected initUI(){\n    this.mainElement = createElement('div',{\n      className: 'de-wb-vipera-ext-ui-input-container'\n    })\n\n    if(this.options.visible === false){\n        this.mainElement.style.display = 'none';\n    }\n\n    if (this.options && this.options.caption){\n      this.lblCaption = createElement('label',{\n        elements : [ createText(this.options.caption) ]\n      })\n      insertElement(this.mainElement, this.lblCaption)\n    }\n\n    let inputContainer = createElement('div',{\n      className:'de-wb-vipera-ext-ui-input-inline-control'\n    });\n    this.txtInput = createElement('input',{\n      className: 'input-text native-key-bindings de-wb-vipera-ext-ui-input'\n    })\n    this.txtInput.setAttribute('type', 'text')\n    if (this.options && this.options.placeholder){\n      this.txtInput.setAttribute('placeholder', this.options.placeholder)\n    }\n    this.txtInput.addEventListener('keydown',(evt)=>{\n      //this.fireConfigChanged()\n    })\n    insertElement(inputContainer, this.txtInput)\n\n    if (this.options && this.options.browseFor){\n      this.actionButton = this.createActionButtonFor(this.options.browseFor)\n      insertElement(inputContainer, this.actionButton)\n    }\n\n    insertElement(this.mainElement, inputContainer)\n\n  }\n\n  protected createActionButtonFor(action:string):HTMLElement{\n    if (action===\"folder\"){\n      return this.createActionButtonForFolder();\n    } else if (action===\"file\") {\n      return this.createActionButtonForFile();\n    }\n  }\n\n  protected createActionButtonForFolder():HTMLElement {\n    let button = this.createActionButton('Browse...');\n    button.addEventListener('click',()=>{\n      this.chooseFolder();\n    })\n    return button;\n  }\n\n  protected createActionButtonForFile():HTMLElement {\n    let button = this.createActionButton('Browse...');\n    button.addEventListener('click',()=>{\n      this.chooseFile();\n    })\n    return button;\n  }\n\n  protected createActionButton(caption:string):HTMLElement {\n    let button = createElement('button',{\n        elements: [ createText(caption)],\n        className: 'btn btn-sm de-wb-vipera-ext-ui-input-action-button'\n    })\n    button.style[\"margin-left\"] = \"10px\"\n    return button;\n  }\n\n  protected chooseFolder(){\n    var path = dialog.showOpenDialog({\n      properties: ['openDirectory']\n    });\n    if (path && path.length>0){\n      this.value = path;\n    }\n  }\n\n  protected chooseFile(){\n    var path = dialog.showOpenDialog({\n      properties: ['openFile']\n    });\n    if (path && path.length>0){\n      this.value = path;\n    }\n  }\n\n\n  public get element():HTMLElement {\n    return this.mainElement\n  }\n\n  public get value():string{\n    return this.txtInput[\"value\"];\n  }\n\n  public set value(value:string){\n    this.txtInput[\"value\"] = value;\n  }\n\n  public setVisible(value:boolean,defaultDisplay?:string){\n    if(value){\n      this.mainElement.style.display = defaultDisplay || DEFAULT_DISPLAY_OPTIONS;\n    }else{\n      this.mainElement.style.display = HIDE_DISPLAY_OPTIONS;\n    }\n  }\n\n}\n"]}