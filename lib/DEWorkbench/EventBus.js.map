{"version":3,"file":"EventBus.js","sourceRoot":"","sources":["../../src/DEWorkbench/EventBus.ts"],"names":[],"mappings":"AAAA,WAAW,CAAA;AAaX,MAAM;IAEF,iBAAiB;IACV,MAAM,KAAK,mBAAmB,KAAY,MAAM,CAAC,uCAAuC,CAAC,CAAC,CAAC;IAC3F,MAAM,KAAK,gBAAgB,KAAY,MAAM,CAAC,oCAAoC,CAAC,CAAC,CAAC;IACrF,MAAM,KAAK,gBAAgB,KAAY,MAAM,CAAC,kCAAkC,CAAC,CAAC,CAAC;IACnF,MAAM,KAAK,kBAAkB,KAAY,MAAM,CAAC,oCAAoC,CAAC,CAAC,CAAC;IACvF,MAAM,KAAK,kBAAkB,KAAY,MAAM,CAAC,sCAAsC,CAAC,CAAC,CAAC;IACzF,MAAM,KAAK,oBAAoB,KAAY,MAAM,CAAC,sCAAsC,CAAC,CAAC,CAAC;IAElG,mBAAmB;IACZ,MAAM,KAAK,0BAA0B,KAAY,MAAM,CAAC,oCAAoC,CAAC,CAAC,CAAC;IAMtG;QACE,IAAI,YAAY,GAAG,OAAO,CAAC,qBAAqB,CAAC,CAAA;QACjD,IAAI,CAAC,SAAS,GAAG,IAAI,YAAY,EAAE,CAAC;IACtC,CAAC;IAED,MAAM,CAAC,WAAW;QACd,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC;YACrB,QAAQ,CAAC,QAAQ,GAAG,IAAI,QAAQ,EAAE,CAAC;QACvC,CAAC;QACD,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC;IAC7B,CAAC;IAEM,SAAS,CAAC,KAAY,EAAE,QAAiB;QAC9C,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAA;IAC3C,CAAC;IAEM,YAAY,CAAC,QAAiB;QACnC,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAA;IACvC,CAAC;IAEM,OAAO,CAAC,KAAY,EAAE,GAAG,IAAI;QAClC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,KAAK,EAAE,IAAI,CAAC,CAAA;IACrC,CAAC;CAEJ","sourcesContent":["'use babel'\n\n/*!\n * Dynamic Engine Workbench\n * Copyright(c) 2017 Dynamic Engine Team @ Vipera Plc\n * MIT Licensed\n */\n\nimport { EventEmitter }  from 'events'\nimport { Cordova } from '../cordova/Cordova'\nimport { Logger } from '../logger/Logger'\n\n\nexport class EventBus {\n\n    // Project events\n    public static get EVT_PROJECT_CHANGED():string { return \"dewb.project.workspace.projectChanged\"; }\n    public static get EVT_PATH_CHANGED():string { return \"dewb.project.workspace.pathChanged\"; }\n    public static get EVT_PLUGIN_ADDED():string { return \"dewb.project.cordova.pluginAdded\"; }\n    public static get EVT_PLUGIN_REMOVED():string { return \"dewb.project.cordova.pluginRemoved\"; }\n    public static get EVT_PLATFORM_ADDED():string { return \"dewb.project.cordova.platformRemoved\"; }\n    public static get EVT_PLATFORM_REMOVED():string { return \"dewb.project.cordova.platformRemoved\"; }\n\n    // Workbench events\n    public static get EVT_WORKBENCH_PLUGIN_ADDED():string { return \"dewb.workbench.plugins.pluginAdded\"; }\n\n\n    private static instance: EventBus;\n    private _eventBus:any;\n\n    private constructor() {\n      let EvtBusModule = require('@nsisodiya/eventbus')\n      this._eventBus = new EvtBusModule();\n    }\n\n    static getInstance() {\n        if (!EventBus.instance) {\n            EventBus.instance = new EventBus();\n        }\n        return EventBus.instance;\n    }\n\n    public subscribe(topic:string, callback:Function){\n      this._eventBus.subscribe(topic, callback)\n    }\n\n    public subscribeAll(callback:Function){\n      this._eventBus.subscribeAll(callback)\n    }\n\n    public publish(topic:string, ...args) {\n      this._eventBus.publish(topic, args)\n    }\n\n}\n"]}