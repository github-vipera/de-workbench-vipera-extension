{"version":3,"file":"EventBus.js","sourceRoot":"","sources":["../../src/utils/EventBus.ts"],"names":[],"mappings":"AAAA,WAAW,CAAA;AAEX;;;;GAIG;AAEH,OAAO,EAAE,YAAY,EAAE,MAAO,QAAQ,CAAA;AAGtC,MAAM;IAEF,uBAAuB;IAChB,MAAM,KAAK,kBAAkB,KAAY,MAAM,CAAC,kCAAkC,CAAC,CAAC,CAAC;IAO5F;QACE,IAAI,CAAC,YAAY,GAAG,IAAI,YAAY,EAAE,CAAC;IACzC,CAAC;IAED,MAAM,CAAC,WAAW;QACd,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC;YACrB,QAAQ,CAAC,QAAQ,GAAG,IAAI,QAAQ,EAAE,CAAC;QACvC,CAAC;QACD,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC;IAC7B,CAAC;IAEM,SAAS,CAAC,KAAY,EAAE,QAAiB;QAC9C,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,EAAC,QAAQ,CAAC,CAAC;IACvC,CAAC;IAEM,OAAO,CAAC,KAAY,EAAE,GAAG,IAAI;QAClC,qCAAqC;QACrC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,EAAC,IAAI,CAAC,CAAC;IACrC,CAAC;IAEM,WAAW,CAAC,KAAY,EAAE,QAAiB;QAChD,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAA;IACnD,CAAC;CAEJ","sourcesContent":["'use babel'\n\n/*!\n * Dynamic Engine Workbench\n * Copyright(c) 2017 Dynamic Engine Team @ Vipera Plc\n * MIT Licensed\n */\n\nimport { EventEmitter }  from 'events'\n\n\nexport class EventBus {\n\n    // Configuration events\n    public static get EVT_CONFIG_CHANGED():string { return \"dewb.vipext.configurationChanged\"; }\n\n\n    private static instance: EventBus;\n    private _eventBus:any;\n    private eventEmitter:EventEmitter;\n\n    private constructor() {\n      this.eventEmitter = new EventEmitter();\n    }\n\n    static getInstance() {\n        if (!EventBus.instance) {\n            EventBus.instance = new EventBus();\n        }\n        return EventBus.instance;\n    }\n\n    public subscribe(topic:string, callback:Function){\n      this.eventEmitter.on(topic,callback);\n    }\n\n    public publish(topic:string, ...args) {\n      //this._eventBus.publish(topic, args)\n      this.eventEmitter.emit(topic,args);\n    }\n\n    public unsubscribe(topic:string, callback:Function){\n      this.eventEmitter.removeListener(topic, callback)\n    }\n\n}\n"]}